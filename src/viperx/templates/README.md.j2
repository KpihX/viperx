# {{ project_name }}

{{ description }}

> ğŸ“ **Educational Note:** This project was generated with [ViperX](https://github.com/kpihx/viperx), an educational Python project scaffolding tool. The structure and files are designed to teach you best practices in Python packaging.

---

## ğŸ§ Philosophy & Architecture

This project values transparency and standard tooling over "black box" magic.

### ğŸ“ Why This Structure?

This project uses the **src/ layout**, which is the recommended structure for modern Python packages.

**Benefits:**
- âœ… **Import Safety**: Can't accidentally import uninstalled code
- âœ… **Testing Clarity**: Tests run against the INSTALLED package
- âœ… **Packaging Safety**: Catches packaging bugs before release
- âœ… **Industry Standard**: Used by pytest, pip, and most modern tools

ğŸ“š [Learn more about src/ layout](https://packaging.python.org/en/latest/discussions/src-layout-vs-flat-layout/)

### ğŸ“ Why `uv`?

This project uses **[uv](https://docs.astral.sh/uv/)**, a modern Python package manager written in Rust.

Unlike traditional workflows (pip, poetry, venv mixing), `uv` manages the **entire lifecycle**:
- **Python Version**: Installs and manages the correct Python version automatically
- **Dependencies**: Lightning-fast dependency resolution and locking
{%- if project_type == 'dl' %}
- **Stack**: {{ framework|title }} with optimized installation
{%- endif %}
- **Environment**: Virtual environments managed internally
- **Speed**: 10-100x faster than pip

**Why it matters:**
- âš¡ Faster development (no waiting for pip)
- ğŸ”’ Reproducible builds (lock files)
- ğŸ¯ Single tool for everything

ğŸ“š [Learn more about uv](https://docs.astral.sh/uv/)

{%- if use_config or use_env %}
### ğŸ“ Why Config-in-Package?

{%- if use_config %}
- **Config**: `src/{{ package_name }}/config.yaml` (Loaded automatically)
{%- endif %}
{%- if use_env %}
- **Environment**: `src/{{ package_name }}/.env` (Isolated variables)
- **Template**: `src/{{ package_name }}/.env.example` (Copy this to `.env`)
{%- endif %}

**The Problem:**
Traditional approach puts config files at the project root. This breaks when:
- Installing the package via pip (root files aren't packaged!)
- Running on Colab/Kaggle (path resolution issues)
- Working in monorepos (which config gets loaded?)

**The Solution: Config-in-Package**
{%- if use_config %}
1. `config.yaml` lives INSIDE the package (`src/{{ package_name }}/`)
2. `config.py` uses `importlib.resources` to load it reliably
3. Works everywhere: local, pip-installed, Colab, Kaggle, Docker
{%- endif %}
{%- if use_env %}
4. `.env` is isolated per package (security!)
5. Each package has its own secrets (no cross-contamination)
{%- endif %}

ğŸ“š [Why config-in-package works better](https://docs.python.org/3/library/importlib.resources.html)
{%- endif %}

### ğŸ“ Why pyproject.toml?

Before `pyproject.toml` (PEP 518, 2016), Python had setup.py, setup.cfg, requirements.txt, MANIFEST.in... a mess!

**Now:** One file, `pyproject.toml`, is the single source of truth for:
- Project metadata (name, version, author)
- Dependencies
- Build system configuration
- Tool configurations (pytest, ruff, mypy)

**Benefits:**
- âœ… Declarative (not executable like setup.py)
- âœ… Standard format (TOML)
- âœ… All-in-one (no more scattered config files)

ğŸ“š [Learn more about pyproject.toml](https://peps.python.org/pep-0518/)

---

{%- if not is_subpackage %}
## ğŸš€ Getting Started

### Prerequisites

You only need **[uv](https://docs.astral.sh/uv/)**.
No need to install Python or create venvs manually.

### Installation

```bash
# Ensure you are in the project directory
cd {{ project_name }}

# Sync dependencies (creates .venv and installs python if needed)
uv sync
```
{%- endif %}

## ğŸ§‘â€ğŸ’» Usage

### For Developers (Code)

To run the package entry point or scripts:

```bash
# Run the main package
uv run {{ project_name }}

# Or run a specific script
uv run python src/{{ package_name }}/main.py
```

{%- if project_type in ['ml', 'dl'] and not is_subpackage %}
### For Data Scientists (Notebooks)

We use `uv` to launch Jupyter, ensuring it sees the local package and config.

```bash
uv run jupyter notebook
```

- Open `notebooks/Base.ipynb`.
- Note how it imports `config` from the package.

### â˜ï¸ Cloud (Colab / Kaggle)

You can use the code and config from this repository directly in cloud environments without cloning.

**Step 1: Install directly from Git**
```python
!pip install url_to_repo.git
```

**Step 2: Use the unified config**
```python
{%- if project_type == 'classic' %}
from {{ package_name }} import SETTINGS
{%- else %}
from {{ package_name }} import get_dataset_path, SETTINGS
import kagglehub as kh
{%- endif %}

# Transparency: You can inspect what was loaded
print(f"Loaded config for: {SETTINGS.get('project_name', 'Unknown')}")

{%- if project_type != 'classic' %}
# Download datasets defined in config.yaml
# The key 'titanic' maps to 'heptapod/titanic' in the yaml
if 'datasets' in SETTINGS and 'titanic' in SETTINGS['datasets']:
    path = kh.dataset_download(SETTINGS['datasets']['titanic'])
{%- endif %}
```
{%- endif %}

## ğŸ”§ Internal Structure

```text
{%- if is_subpackage %}
{{ package_name }}/
â”œâ”€â”€ __init__.py
{%- if use_config %}
â”œâ”€â”€ config.yaml # EDIT THIS for project settings
â”œâ”€â”€ config.py   # Code that loads the yaml above
{%- endif %}
{%- if use_env %}
â”œâ”€â”€ .env        # Secrets (Ignored by git)
â”œâ”€â”€ .env.example # Template for secrets
{%- endif %}
{%- if use_tests %}
â””â”€â”€ tests/      # Unit tests
{%- endif %}
{%- else %}
{{ project_name }}/
â”œâ”€â”€ pyproject.toml      # The Single Source of Truth (Dependencies, Metadata)
â”œâ”€â”€ uv.lock             # Exact versions lockfile
â”œâ”€â”€ .python-version     # Pinned Python version
â”œâ”€â”€ src/
{%- if packages %}
{%- for pkg in packages %}
â”‚   â””â”€â”€ {{ pkg.clean_name }}/
â”‚       â”œâ”€â”€ __init__.py
{%- if pkg.use_config %}
â”‚       â”œâ”€â”€ config.yaml # EDIT THIS for project settings
â”‚       â”œâ”€â”€ config.py   # Code that loads the yaml above
{%- endif %}
{%- if pkg.use_env %}
â”‚       â”œâ”€â”€ .env        # Secrets (Ignored by git)
â”‚       â”œâ”€â”€ .env.example # Template for secrets
{%- endif %}
{%- if pkg.use_tests %}
â”‚       â””â”€â”€ tests/      # Unit tests
{%- endif %}
{%- endfor %}
{%- else %}
â”‚   â””â”€â”€ {{ package_name }}/
â”‚       â”œâ”€â”€ __init__.py
{%- if use_config %}
â”‚       â”œâ”€â”€ config.yaml # EDIT THIS for project settings
â”‚       â”œâ”€â”€ config.py   # Code that loads the yaml above
{%- endif %}
{%- if use_env %}
â”‚       â”œâ”€â”€ .env        # Secrets (Ignored by git)
â”‚       â”œâ”€â”€ .env.example # Template for secrets
{%- endif %}
{%- if use_tests %}
â”‚       â””â”€â”€ tests/      # Unit tests
{%- endif %}
{%- endif %}
{%- if project_type in ['ml', 'dl'] %}
â””â”€â”€ notebooks/          # Experimentation (Jupyter)
{%- endif %}
{%- endif %}
```

---

## ğŸ“š Learning Resources

This project was created with educational comments throughout the code. Here are resources to deepen your understanding:

### Understanding the Structure
- [Python Packaging Guide](https://packaging.python.org/) - Official packaging documentation
- [PEP 518: pyproject.toml](https://peps.python.org/pep-0518/) - Why pyproject.toml exists
- [PEP 621: Project Metadata](https://peps.python.org/pep-0621/) - What goes in pyproject.toml
- [src/ vs flat layout](https://packaging.python.org/en/latest/discussions/src-layout-vs-flat-layout/) - Project structure explained

### Tools Used
- [uv Documentation](https://docs.astral.sh/uv/) - Modern Python package manager
- [pytest Documentation](https://docs.pytest.org/) - Testing framework
- [importlib.resources](https://docs.python.org/3/library/importlib.resources.html) - Why config-in-package works

### Best Practices
- [The Hitchhiker's Guide to Python](https://docs.python-guide.org/) - Python best practices
- [12-Factor App](https://12factor.net/) - Application development methodology
- [Semantic Versioning](https://semver.org/) - Version number conventions

### Generated by ViperX
If you want to create projects like this yourself, check out:
- [ViperX Documentation](https://kpihx.github.io/viperx/) - Learn about the tool
- [ViperX Philosophy](https://github.com/KpihX/viperx/blob/main/PHILOSOPHY.md) - Why it exists
- `viperx learn` command - Curated learning resources

---

## ğŸ“ Educational Notes

This project includes extensive comments in the generated files:
- `pyproject.toml` - Every section explained
- `src/{{ package_name }}/config.py` - Config pattern explained
- `src/{{ package_name }}/main.py` - Entry points explained
- `.gitignore` - Every pattern explained

**Read the comments!** They're there to teach you, not just document.

---

## ğŸ“ License

{{ license }}
